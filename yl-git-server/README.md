# YL Git Server

ä¸€ä¸ªåŸºäº MCP (Model Context Protocol) çš„ Git æ“ä½œæœåŠ¡å™¨ï¼Œæä¾›æ™ºèƒ½åŒ–çš„ Git å·¥ä½œæµè‡ªåŠ¨åŒ–åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸš€ **æ™ºèƒ½æäº¤**: AI è‡ªåŠ¨åˆ†æä»£ç å˜æ›´å¹¶ç”Ÿæˆè§„èŒƒçš„ commit ä¿¡æ¯
- ğŸ“Š **çŠ¶æ€æŸ¥çœ‹**: å¿«é€ŸæŸ¥çœ‹ Git ä»“åº“çŠ¶æ€å’Œå˜æ›´å†…å®¹
- ğŸ”§ **è‡ªåŠ¨åŒ–æ“ä½œ**: ä¸€é”®å®Œæˆ addã€commitã€push æµç¨‹
- ğŸ¯ **ä»“åº“åˆå§‹åŒ–**: æ”¯æŒå¿«é€Ÿåˆå§‹åŒ– Git ä»“åº“å¹¶é…ç½®è¿œç¨‹åœ°å€

## å®‰è£…

```bash
cd yl-git-server
npm install
```

## é…ç½® Windsurf

åœ¨ Windsurf è®¾ç½®ä¸­æ·»åŠ  MCP æœåŠ¡å™¨é…ç½®ï¼š

1. æ‰“å¼€ Windsurf è®¾ç½® (âŒ˜ + ,)
2. æ‰¾åˆ° MCP Servers é…ç½®
3. æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```json
{
  "mcpServers": {
    "yl-git-server": {
      "command": "node",
      "args": ["/Users/v_huyilin/Documents/hyl/yl-mcps/yl-git-server/src/index.js"]
    }
  }
}
```

## å¯ç”¨å·¥å…·

### 1. git_init
åˆå§‹åŒ– Git ä»“åº“ï¼Œå¯é€‰æ‹©æ€§æ·»åŠ è¿œç¨‹ä»“åº“åœ°å€

**å‚æ•°ï¼š**
- `remote_url` (å¯é€‰): è¿œç¨‹ä»“åº“åœ°å€ï¼Œå¦‚ `git@github.com:username/repo.git`
- `branch` (å¯é€‰): é»˜è®¤åˆ†æ”¯åç§°ï¼Œé»˜è®¤ä¸º `main`

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```
åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ Git ä»“åº“ï¼Œè¿œç¨‹åœ°å€ä¸º git@github.com:username/repo.git
```

### 2. git_status
æŸ¥çœ‹å½“å‰ Git ä»“åº“çŠ¶æ€

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```
æŸ¥çœ‹å½“å‰ Git çŠ¶æ€
```

### 3. git_diff
æŸ¥çœ‹å½“å‰çš„æ”¹åŠ¨å†…å®¹ï¼ˆåŒ…æ‹¬å·²æš‚å­˜å’Œæœªæš‚å­˜çš„æ”¹åŠ¨ï¼‰ï¼Œç”¨äºç”Ÿæˆ commit ä¿¡æ¯

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```
æŸ¥çœ‹å½“å‰ä»£ç æ”¹åŠ¨
```

### 4. git_add
æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº

**å‚æ•°ï¼š**
- `files` (å¯é€‰): è¦æ·»åŠ çš„æ–‡ä»¶è·¯å¾„ï¼Œä½¿ç”¨ "." æ·»åŠ æ‰€æœ‰æ–‡ä»¶ï¼Œé»˜è®¤ä¸º "."

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```
æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº
```

### 5. git_smart_commit
æ™ºèƒ½æäº¤ï¼šAI ç”Ÿæˆåˆé€‚çš„ commit ä¿¡æ¯åæäº¤å¹¶æ¨é€

**å‚æ•°ï¼š**
- `message` (å¿…å¡«): AI ç”Ÿæˆçš„ commit ä¿¡æ¯

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```
å¸®æˆ‘æ™ºèƒ½æäº¤ä»£ç 
```

## æ™ºèƒ½æäº¤å·¥ä½œæµ

1. ä½ å¯¹ AI è¯´ï¼š"å¸®æˆ‘æ™ºèƒ½æäº¤ä»£ç "
2. AI è‡ªåŠ¨è°ƒç”¨ `git_diff` æŸ¥çœ‹ä½ çš„æ”¹åŠ¨
3. AI åˆ†ææ”¹åŠ¨å†…å®¹ï¼Œç”Ÿæˆç¬¦åˆè§„èŒƒçš„ commit ä¿¡æ¯
4. AI è°ƒç”¨ `git_smart_commit` æäº¤å¹¶æ¨é€ä»£ç 

## é¡¹ç›®ç»“æ„

```
yl-git-server/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.js           # æœåŠ¡å™¨å…¥å£æ–‡ä»¶
â”‚   â”œâ”€â”€ server.js          # MCP æœåŠ¡å™¨å®ç°
â”‚   â”œâ”€â”€ config.js          # æœåŠ¡å™¨é…ç½®
â”‚   â”œâ”€â”€ tool-definitions.js # å·¥å…·å®šä¹‰
â”‚   â””â”€â”€ tool-handlers.js   # å·¥å…·å¤„ç†å™¨
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

## å¼€å‘

### å¯åŠ¨æœåŠ¡å™¨
```bash
npm start
```

### æµ‹è¯•æœåŠ¡å™¨
```bash
npm test
```

## ä¾èµ–

- `@modelcontextprotocol/sdk`: MCP SDK ç”¨äºæ„å»º MCP æœåŠ¡å™¨

## ç‰ˆæœ¬

å½“å‰ç‰ˆæœ¬ï¼š1.0.0
